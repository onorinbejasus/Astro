// Generated by CoffeeScript 1.3.3
(function() {
  var FITS, Stats, require;

  require = window.require;

  FITS = require("fits");

  Stats = require("fits.imagestats");

  describe("FITS Image Stats", function() {
    return it('can compute a histogram', function() {
      var histogram, image, mean, precision, stats, std, sum, value, _i, _len;
      precision = 8;
      image = fits.getDataUnit();
      image.rowsRead = 0;
      stats = new Stats(image);
      histogram = stats.computeHistogram(1000);
      mean = stats.computeMean();
      std = stats.computeSTD();
      sum = 0;
      for (_i = 0, _len = histogram.length; _i < _len; _i++) {
        value = histogram[_i];
        sum += value;
      }
      expect(sum).toEqual(image.naxis[0] * image.naxis[1]);
      expect(mean).toBeCloseTo(5868.4076436883452, precision);
      expect(std).toBeCloseTo(2241.2503679376473, precision);
      return console.log(stats);
    });
  });

}).call(this);
